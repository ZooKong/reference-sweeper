# 스키마 레지스트리

## 1. 스키마의 개념과 유용성

> 기존 관계형 데이터 베이스에서의 스키마

- 스키마가 미리 정의되어 있음
- 데이터를 추가하기 위해서는 반드시 사전에 정의되어 있어야 함
- 정의되어 있지 않은 스키마의 경우 데이터 추가를 시도하면 실패함

> 만약 관계형 데이터 베이스에서 스키마가 없다면?

- 데이터 형식에 대해 잘 알고 있으므로 스키마가 없어도 큰 문제가 없음
  - 관리자 A 혼자서 전체 데이터베이스에 대한 스키마를 관리한다고 가정
- 동일한 데이터베이스에 접속해 읽고 쓴다면 다른 형식의 데이터를 추가할 수 있음
  - 관리자 A 혼자가 아닌 다른 사용자도 같이 사용한다는 가정 


###### 다른 형식의 데이터로 문자열 오류나 파싱 에러가 나면서 서비스 중지에 준하는 대형 장애로 이어질 수 있음

> 조금 더 카프카 구조와 업무적으로 접근하자

- 카프카의 쓰기 작업은 가장 말단에서 실행, 중간에 수정 작업을 할 수 없음
- 카프카는 중앙 데이터 파이프 라인 역할을 하며 수많은 사용자가 수많은 토픽을 이용
- 컨슈머는 어떤 프로듀서가 메세지 발행했는지 모르며 전적으로 프로듀서를 신뢰해야 함
  - 컨슘하는 사용자가 1명이면 설명하는 일이 어렵지 않음
  - 사용자가 많거나 자주 바뀐다면 그때마다 데이터 구조를 설명하는 일은 쉽지 않음
- 스키마 변경이 일어날 경우 담당자들에게 알려주려면 메일이나 문서로 공유가 매번 필요함
  - 만약 스키마 관리 기능이 없다면 매번 이벤트 처리하는 담당자와 사전 협의가 필요
- 수많은 데이터 엔지니어나 데이터 분석가들이 데이터 파싱으로 인해 시간을 낭비
  - 관련된 종사자들의 비용이 높아 손해가 큼

## 2. 카프카와 스키마 레지스트리

- 스키마 레지스트리라는 별도의 애플리케이션을 이용
- 2015년 2월 카프카 0.8.2 버전 출시와 함께 같이 공개
- 아파치 오픈소스가 아닌 컨플루언트 커뮤니티 라이선스, 비상업적인 용도에 한해 무료로 사용 가능

### 2.1. 스키마 레지스트리의 에이브로 지원

- 
